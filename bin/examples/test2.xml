<?xml version="1.0" encoding="UTF-8"?>
<core:AadlSpec xmi:version="2.0"
    xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xmlns:core="http:///AADL/core" xmlns:property="http:///AADL/property" name="test2">
  <systemType name="wholeSys"/>
  <systemImpl name="wholeSys.imple" compType="/aadlSpec[@name=test2]/systemType[@name=wholeSys]">
    <properties>
      <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Latency]"
          appliesTo="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/connections/dataConnection[@name=c1]">
        <propertyValue xsi:type="property:IntegerValue" unitLiteral="/aadlSpec[@name=AADL_Project]/propertySet[@name=AADL_Project]/propertyType[@name=Time_Units]/unitLiteral[@name=Ms]"
            valueString="10" value="10" base="10"/>
      </propertyAssociation>
    </properties>
    <connections>
      <dataConnection name="c1" srcContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/deviceSubcomponent[@name=aSensor]"
          dstContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/systemSubcomponent[@name=aController]"
          src="/aadlSpec[@name=test2]/deviceType[@name=Sensor]/features/dataPort[@name=sensedData]"
          dst="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=input_a]"/>
      <dataConnection name="c2" srcContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/systemSubcomponent[@name=aController]"
          dstContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/deviceSubcomponent[@name=aMonitor]"
          src="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=output_a]"
          dst="/aadlSpec[@name=test2]/deviceType[@name=Monitor]/features/dataPort[@name=dataToView]"/>
      <dataConnection name="c3" srcContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/deviceSubcomponent[@name=bSensor]"
          dstContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/systemSubcomponent[@name=aController]"
          src="/aadlSpec[@name=test2]/deviceType[@name=Sensor]/features/dataPort[@name=sensedData]"
          dst="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=input_b]"/>
      <dataConnection name="c4" srcContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/systemSubcomponent[@name=aController]"
          dstContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/deviceSubcomponent[@name=bMonitor]"
          src="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=output_b]"
          dst="/aadlSpec[@name=test2]/deviceType[@name=Monitor]/features/dataPort[@name=dataToView]"/>
    </connections>
    <flows>
      <endToEndFlow name="fp">
        <flowElement flowSpec="/aadlSpec[@name=test2]/deviceType[@name=Sensor]/flowSpecs/flowSourceSpec[@name=fp]"
            flowContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/deviceSubcomponent[@name=aSensor]"/>
        <flowElement connection="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/connections/dataConnection[@name=c1]"/>
        <flowElement flowSpec="/aadlSpec[@name=test2]/systemType[@name=Controller]/flowSpecs/flowPathSpec[@name=fp]"
            flowContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/systemSubcomponent[@name=aController]"/>
        <flowElement connection="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/connections/dataConnection[@name=c2]"/>
        <flowElement flowSpec="/aadlSpec[@name=test2]/deviceType[@name=Monitor]/flowSpecs/flowSinkSpec[@name=fp]"
            flowContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/deviceSubcomponent[@name=aMonitor]"/>
      </endToEndFlow>
      <endToEndFlow name="fp1">
        <flowElement flowSpec="/aadlSpec[@name=test2]/deviceType[@name=Sensor]/flowSpecs/flowSourceSpec[@name=fp]"
            flowContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/deviceSubcomponent[@name=bSensor]"/>
        <flowElement connection="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/connections/dataConnection[@name=c3]"/>
        <flowElement flowSpec="/aadlSpec[@name=test2]/systemType[@name=Controller]/flowSpecs/flowPathSpec[@name=fp1]"
            flowContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/systemSubcomponent[@name=aController]"/>
        <flowElement connection="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/connections/dataConnection[@name=c4]"/>
        <flowElement flowSpec="/aadlSpec[@name=test2]/deviceType[@name=Monitor]/flowSpecs/flowSinkSpec[@name=fp]"
            flowContext="/aadlSpec[@name=test2]/systemImpl[@name=wholeSys.imple]/subcomponents/deviceSubcomponent[@name=bMonitor]"/>
      </endToEndFlow>
    </flows>
    <subcomponents>
      <deviceSubcomponent name="aSensor" classifier="/aadlSpec[@name=test2]/deviceImpl[@name=Sensor.basic]"/>
      <deviceSubcomponent name="aMonitor" classifier="/aadlSpec[@name=test2]/deviceImpl[@name=Monitor.basic]"/>
      <deviceSubcomponent name="bSensor" classifier="/aadlSpec[@name=test2]/deviceImpl[@name=Sensor.basic1]"/>
      <deviceSubcomponent name="bMonitor" classifier="/aadlSpec[@name=test2]/deviceImpl[@name=Monitor.basic1]"/>
      <systemSubcomponent name="aController" classifier="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]"/>
    </subcomponents>
  </systemImpl>
  <deviceType name="Sensor">
    <flowSpecs>
      <flowSourceSpec name="fp" dst="/aadlSpec[@name=test2]/deviceType[@name=Sensor]/features/dataPort[@name=sensedData]"/>
    </flowSpecs>
    <features>
      <dataPort name="sensedData" direction="out" dataClassifier="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
      <eventPort name="failure" direction="out"/>
    </features>
  </deviceType>
  <deviceImpl name="Sensor.basic" compType="/aadlSpec[@name=test2]/deviceType[@name=Sensor]">
    <flows>
      <flowSourceImpl name="fp" implement="/aadlSpec[@name=test2]/deviceType[@name=Sensor]/flowSpecs/flowSourceSpec[@name=fp]"/>
    </flows>
  </deviceImpl>
  <deviceImpl name="Sensor.basic1" compType="/aadlSpec[@name=test2]/deviceType[@name=Sensor]">
    <flows>
      <flowSourceImpl name="fp" implement="/aadlSpec[@name=test2]/deviceType[@name=Sensor]/flowSpecs/flowSourceSpec[@name=fp]"/>
    </flows>
  </deviceImpl>
  <systemType name="Controller">
    <flowSpecs>
      <flowPathSpec name="fp" src="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=input_a]"
          dst="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=output_a]"/>
      <flowPathSpec name="fp1" src="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=input_b]"
          dst="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=output_b]"/>
    </flowSpecs>
    <features>
      <dataPort name="input_a" dataClassifier="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
      <dataPort name="output_a" direction="out" dataClassifier="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
      <dataPort name="input_b" dataClassifier="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
      <dataPort name="output_b" direction="out" dataClassifier="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
    </features>
  </systemType>
  <systemImpl name="Controller.basic" compType="/aadlSpec[@name=test2]/systemType[@name=Controller]">
    <properties>
      <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Latency]"
          appliesTo="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/connections/dataConnection[@name=c1]">
        <propertyValue xsi:type="property:IntegerValue" unitLiteral="/aadlSpec[@name=AADL_Project]/propertySet[@name=AADL_Project]/propertyType[@name=Time_Units]/unitLiteral[@name=Ms]"
            valueString="4" value="4" base="10"/>
      </propertyAssociation>
      <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Latency]"
          appliesTo="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/connections/dataConnection[@name=c2]">
        <propertyValue xsi:type="property:IntegerValue" unitLiteral="/aadlSpec[@name=AADL_Project]/propertySet[@name=AADL_Project]/propertyType[@name=Time_Units]/unitLiteral[@name=Ms]"
            valueString="2" value="2" base="10"/>
      </propertyAssociation>
      <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Latency]"
          appliesTo="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/connections/dataConnection[@name=c3]">
        <propertyValue xsi:type="property:IntegerValue" unitLiteral="/aadlSpec[@name=AADL_Project]/propertySet[@name=AADL_Project]/propertyType[@name=Time_Units]/unitLiteral[@name=Ms]"
            valueString="6" value="6" base="10"/>
      </propertyAssociation>
      <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Latency]"
          appliesTo="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/connections/dataConnection[@name=c4]">
        <propertyValue xsi:type="property:IntegerValue" unitLiteral="/aadlSpec[@name=AADL_Project]/propertySet[@name=AADL_Project]/propertyType[@name=Time_Units]/unitLiteral[@name=Ms]"
            valueString="1" value="1" base="10"/>
      </propertyAssociation>
    </properties>
    <connections>
      <dataConnection name="c1" srcContext="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]"
          dstContext="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/subcomponents/processSubcomponent[@name=aProcess]"
          src="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=input_a]"
          dst="/aadlSpec[@name=test2]/processType[@name=Encryption]/features/dataPort[@name=input_a]"/>
      <dataConnection name="c2" srcContext="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/subcomponents/processSubcomponent[@name=aProcess]"
          dstContext="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]" src="/aadlSpec[@name=test2]/processType[@name=Encryption]/features/dataPort[@name=output_a]"
          dst="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=output_a]"/>
      <dataConnection name="c3" srcContext="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]"
          dstContext="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/subcomponents/processSubcomponent[@name=aProcess]"
          src="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=input_b]"
          dst="/aadlSpec[@name=test2]/processType[@name=Encryption]/features/dataPort[@name=input_b]"/>
      <dataConnection name="c4" srcContext="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/subcomponents/processSubcomponent[@name=aProcess]"
          dstContext="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]" src="/aadlSpec[@name=test2]/processType[@name=Encryption]/features/dataPort[@name=output_b]"
          dst="/aadlSpec[@name=test2]/systemType[@name=Controller]/features/dataPort[@name=output_b]"/>
    </connections>
    <flows>
      <flowPathImpl name="fp" implement="/aadlSpec[@name=test2]/systemType[@name=Controller]/flowSpecs/flowPathSpec[@name=fp]">
        <flowElement connection="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/connections/dataConnection[@name=c1]"/>
        <flowElement flowSpec="/aadlSpec[@name=test2]/processType[@name=Encryption]/flowSpecs/flowPathSpec[@name=fp]"
            flowContext="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/subcomponents/processSubcomponent[@name=aProcess]"/>
        <flowElement connection="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/connections/dataConnection[@name=c2]"/>
      </flowPathImpl>
      <flowPathImpl name="fp1" implement="/aadlSpec[@name=test2]/systemType[@name=Controller]/flowSpecs/flowPathSpec[@name=fp1]">
        <flowElement connection="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/connections/dataConnection[@name=c3]"/>
        <flowElement flowSpec="/aadlSpec[@name=test2]/processType[@name=Encryption]/flowSpecs/flowPathSpec[@name=fp1]"
            flowContext="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/subcomponents/processSubcomponent[@name=aProcess]"/>
        <flowElement connection="/aadlSpec[@name=test2]/systemImpl[@name=Controller.basic]/connections/dataConnection[@name=c4]"/>
      </flowPathImpl>
    </flows>
    <subcomponents>
      <processSubcomponent name="aProcess" classifier="/aadlSpec[@name=test2]/processImpl[@name=Encryption.basic]"/>
    </subcomponents>
  </systemImpl>
  <processType name="Encryption">
    <flowSpecs>
      <flowPathSpec name="fp" src="/aadlSpec[@name=test2]/processType[@name=Encryption]/features/dataPort[@name=input_a]"
          dst="/aadlSpec[@name=test2]/processType[@name=Encryption]/features/dataPort[@name=output_a]"/>
      <flowPathSpec name="fp1" src="/aadlSpec[@name=test2]/processType[@name=Encryption]/features/dataPort[@name=input_b]"
          dst="/aadlSpec[@name=test2]/processType[@name=Encryption]/features/dataPort[@name=output_b]"/>
    </flowSpecs>
    <features>
      <dataPort name="input_a" dataClassifier="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
      <dataPort name="output_a" direction="out" dataClassifier="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
      <dataPort name="input_b" dataClassifier="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
      <dataPort name="output_b" direction="out" dataClassifier="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
    </features>
  </processType>
  <processImpl name="Encryption.basic" compType="/aadlSpec[@name=test2]/processType[@name=Encryption]">
    <flows>
      <flowPathImpl name="fp" implement="/aadlSpec[@name=test2]/processType[@name=Encryption]/flowSpecs/flowPathSpec[@name=fp]"/>
      <flowPathImpl name="fp1" implement="/aadlSpec[@name=test2]/processType[@name=Encryption]/flowSpecs/flowPathSpec[@name=fp1]"/>
    </flows>
  </processImpl>
  <deviceType name="Monitor">
    <flowSpecs>
      <flowSinkSpec name="fp" src="/aadlSpec[@name=test2]/deviceType[@name=Monitor]/features/dataPort[@name=dataToView]"/>
    </flowSpecs>
    <features>
      <dataPort name="dataToView" dataClassifier="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
    </features>
  </deviceType>
  <deviceImpl name="Monitor.basic" compType="/aadlSpec[@name=test2]/deviceType[@name=Monitor]">
    <flows>
      <flowSinkImpl name="fp" implement="/aadlSpec[@name=test2]/deviceType[@name=Monitor]/flowSpecs/flowSinkSpec[@name=fp]"/>
    </flows>
  </deviceImpl>
  <deviceImpl name="Monitor.basic1" compType="/aadlSpec[@name=test2]/deviceType[@name=Monitor]">
    <flows>
      <flowSinkImpl name="fp" implement="/aadlSpec[@name=test2]/deviceType[@name=Monitor]/flowSpecs/flowSinkSpec[@name=fp]"/>
    </flows>
  </deviceImpl>
  <dataType name="storage">
    <properties>
      <propertyAssociation propertyDefinition="/aadlSpec[@name=AADL_Properties]/propertySet[@name=AADL_Properties]/propertyDefinition[@name=Source_Data_Size]">
        <propertyValue xsi:type="property:IntegerValue" unitLiteral="/aadlSpec[@name=AADL_Project]/propertySet[@name=AADL_Project]/propertyType[@name=Size_Units]/unitLiteral[@name=KB]"
            valueString="4" value="4" base="10"/>
      </propertyAssociation>
    </properties>
  </dataType>
  <dataImpl name="storage.basic" compType="/aadlSpec[@name=test2]/dataType[@name=storage]"/>
</core:AadlSpec>
